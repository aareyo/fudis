import { Meta } from "@storybook/blocks";

<Meta title="Documentation/Development/Development Environment" />

# Development Environment

The development environment for Fudis is implemented with Docker and NPM (Node.js). Any fairly recent version should work. However, it is recommended to use the Node.js version specified in the `.nvmrc` file in repository root. Correct Node.js version is important, e.g., when installing or updating NPM packages.

Running the development environment does not require installing NPM packages locally. However, your IDE tooling most likely does (Simply run `npm ci` in repository root.)

## Command Reference

Run commands in repository root unless otherwise specified.

This reference includes the commands meant to be commonly used in development work. The `package.json` files include many others, too.

### Development Environment Controls

#### Start Development Environment

Starts Storybook with hot-reload for both library code and Storybook markup. Access at [http://localhost:6006](http://localhost:6006).

After starting, the terminal is attached to log output. You can detach (CTRL+C) from the logs and the application will keep running in the background. Re-attach with `npm run logs`.

```bash
npm start
```

#### Start Sandbox Application

Starts the sandbox application with hot-reload. Access at [http://localhost:4200](http://localhost:4200).

After starting, the terminal is attached to log output. You can detach (CTRL+C) from the logs and the application will keep running in the background. Re-attach with `npm run logs`.

```bash
npm run start:sandbox
```

#### Stop Development Environment

```bash
npm stop
```

#### Install Dependencies Locally

```bash
npm ci
```

#### View Logs

Attaches terminal to Docker's interactive log output. Use this to see the logs again after detaching.

```bash
npm run logs
```

### Testing Commands

#### Run Component Tests

```bash
npm test
```

#### Lint Code

Lints `.js`, `.ts` and `.html` files.

```bash
npm run lint
```

#### Lint SCSS

Runs `stylelint` on SCSS files.

```bash
npm run stylelint
```

### Miscellaneous

#### Create New Fudis Version

Read how to create new release with automated script from [Creating a Release](/docs/documentation-development-creating-release--documentation) documentation.

This is not advised, but if you need to create the release manually

1. Bump versions in all `package.json` files
2. Create a version tag
3. Push changes to GitHub

Basically `npm version` modified to run in sub-directories.

```bash
npm version <major|minor|patch>
```
