import { Meta } from "@storybook/blocks";

<Meta title="Documentation/Development/Tooling/Code Linting and Formatting" />

# Code Linting and Formatting

## [ESLint](https://github.com/eslint/eslint)

ESLint is used to enforce code conventions in this project. [eslint-config-airbnb-typescript](https://github.com/iamturns/eslint-config-airbnb-typescript) (enforces [JavaScript Style Guide](https://github.com/airbnb/javascript)) is used as a base for the eslint-configuration. Additionally, [typescript-eslint](https://github.com/typescript-eslint/typescript-eslint) is required for parsing typescript files and using rules that require type information. [angular-eslint](https://github.com/angular-eslint/angular-eslint) is used for angular specific tooling and rules and parsing Angular templates.

### Usage

You can run ESLint with command `npm run lint`.

**NOTE: It is highly recommended to use a code editor plugin for ESLint.**

**NOTE2: (At least Idea users) If the plugin complains about paths try setting the working directory to `ngx-fudis`.**

### Configuration

`.eslintrc.json` -files are used for ESLint configuration. Each Angular-workspace project has its own configuration file that extends the root configuration and overrides or adds rules if needed.

If you create a new Angular workspace use `ng g @angular-eslint/schematics:add-eslint-to-project <project>` to add an ESLint support to the project. This generates a basic configuration file and also makes appropriate changes to `angular.json`.

### Updating

Start by running `ng update @angular-eslint/schematics`. This should update all the `@angular-eslint` and `@typescript-eslint` -dependencies and the `eslint` dependency. Then update these packages directly with npm:

## [Prettier](https://github.com/prettier/prettier)

Prettier is used for formatting the code and templates.

### Usage

Currently Prettier is run as an ESLint rule with `eslint-plugin-prettier`. Use the same command `ng lint` and ESLint plugins to format the code. It is possible but not recommended to run prettier separately as the Prettier configuration is separate from the ESLint configuration.

### Configuration

Current Prettier configuration used in projects is defined in `ngx-fudis/.prettierrc.json`. ESLint configuration extends `"plugin:prettier/recommended"` to disable all ESLint formatting rules that would conflict with Prettier.

### Updating

Update `prettier` directly with `npm`. Also update `eslint-config-prettier` and `eslint-plugin-prettier` if needed.
