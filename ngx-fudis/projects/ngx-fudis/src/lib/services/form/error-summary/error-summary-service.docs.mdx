import { Meta } from "@storybook/blocks";

<Meta title="Services/Error Summary" />

# Error Summary Service

Error Summary Service provides tools to load and display validation errors for [Form](/docs/components-form-form--documentation) and its [Error Summary Component](/docs/components-form-error-summary--documentation).

## Features

### Reload Errors

**Note!** Similar feature described here can be achieved with [Button binded with Form Submit directive](/docs/directives-form-actions--documentation#form-submit-with-button).

Reload Errors is Error Summary Service functionality that updates the visible list of errors shown in the Fudis Error Summary component.

Import `FudisErrorSummaryService` and add the parameter to constructor:

```
import { FudisErrorSummaryService } from 'ngx-fudis';

...

constructor(
  private _service: FudisErrorSummaryService
) {}
```

Recommended pattern is to call `reloadErrors` when user clicks form's submit button which also sets Error Summary as visible in Fudis Form.

```
protected _submitButtonClick():void {
	if(this.form.invalid){
		// @Input property of FudisForm
		this._errorSummaryVisible = true;
		// Reload errors for the FudisForm
		this._service.reloadErrors();
	} else {
		this._errorSummaryVisible = false;
		// Other success and profit!
	}
}

```

### Update Strategy

By default Error Summary updates only when calling Reload Errors function. All options are:

- `reloadOnly` (default): Error Summary list updates only when calling
- `onRemove`: Updates Error Summary on reload and removes errors when user corrects one of the visibile errors.
- `all`: Updates Error Summary dynamically when errors are added, removed or when reload is called

To set Update Strategy, call service's setter function. E. g. to `all` with:

```
this._service.setUpdateStrategy('all')
```

## Related Components

[Error Summary](/docs/components-form-error-summary--documentation)
