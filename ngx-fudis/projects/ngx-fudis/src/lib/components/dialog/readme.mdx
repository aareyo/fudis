import { ArgsTable, Meta, Story, Canvas } from '@storybook/addon-docs';
import { linkTo } from '@storybook/addon-links';
import { DialogComponent } from './dialog.component.ts'

<Meta title="Button" component={DialogComponent} />

# Dialog

Fudis-dialog is based on Angular Material Dialog. Dialog opens on top of any content with a backdrop. 

Skip to see the [full code example](#full-code-example).

## Examples

<Canvas>
	<Story id="components-dialog--dialog"></Story>
</Canvas>

## Usage Guidelines

Fudis-dialog works best with provided directives.
Directives written with ``camelCase`` are meant to be used as inline attribute directives.
Directives written with ``kebab-case`` are meant to be used as HTML element. See examples [below](#directives).

### Component

Dialog wrapper component takes two parameters: ``size`` and ``closeButtonLabel``.

Size determines the horizontal size of the dialog. Available options are `s`, `m`, `l` and `initial` (defaults to `m`).
CloseButtonLabel is passed to the close icon button on the top right corner for screen readers.

```
<fudis-dialog [closeButtonLabel]="'Close dialog'" [size]="'s'">
	<your-dialog-contents />
</fudis-dialog>
```

### Directives

**fudisDialogTitle**: Set title for the dialog, title will stay fixed to the top of the dialog if content is long and when scrolling it down. 
This directive extends _MatDialogTitle_.

```
<fudis-dialog>
	<fudis-heading [tag]="'h2'" fudisDialogTitle></fudis-heading>
</fudis-dialog>
```

**fudis-dialog-content**: Container for your scrollable dialog content. This directive extends _MatDialogContent_.

```
<fudis-dialog>
	<fudis-dialog-content>
		<your-dialog-content-template />
	</fudis-dialog-content>
</fudis-dialog>
```

**fudis-dialog-actions**: Container for your dialog action buttons which stays fixed to the bottom of the dialog when scrolling. Position the buttons with `align` property, possible values are `start`, `end`, `center`. This directive extends _MatDialogActions_.

```
<fudis-dialog>
	<fudis-dialog-actions [align]="'end'">
		<fudis-button></fudis-button>
		<fudis-button></fudis-button>
	</fudis-dialog-actions>
</fudis-dialog>
```

**fudisDialogClose**: Set your possible close button with no form submitting. This directive extends _MatDialogClose_.

```
<fudis-dialog>
	<fudis-dialog-actions>
		<fudis-button fudisDialogClose [label]="'Cancel'"></fudis-button>
		<fudis-button [label]="'Save'" [type]="'submit'"></fudis-button>
	</fudis-dialog-actions>
</fudis-dialog>
```

### Full code example

```
<fudis-dialog [closeButtonLabel]="'Close dialog'" [size]="'s'">
	<fudis-heading fudisDialogTitle [tag]="'h2'">Your dialog title</fudis-heading>
	<fudis-dialog-content>
		<ng-container *ngIf="exampleDialogFormGroup">
			<form>
				<fudis-text-input
					[id]="'example-id'"
					[label]="'Your input label'"
					[control]="dialogControl"
					[requiredText]="'Required'"
					[helpText]="'Please add some values'"
					[errorMsg]="{ required: 'This is required field.' }">
				</fudis-text-input>
			</form>
		</ng-container>
	</fudis-dialog-content>
	<fudis-dialog-actions [align]="'end'">
		<fudis-button 
			fudisDialogClose 
			[label]="'Cancel'">
		</fudis-button>
		<fudis-button
			[type]="'submit'"
			(handleClick)="closeDialog()"
			[disabled]="!exampleDialogFormGroup.valid"
			[label]="'Save'">
		</fudis-button>
	</fudis-dialog-actions>
</fudis-dialog>
```

### Accessibility

- Focus is trapped inside the dialog
- Initial focus is set to close button on top right corner which is the first focusable element
- Dialog can't be closed with outside click
- Dialog heading (with fudisDialogTitle directive) and dialog buttons (with fudis-dialog-actions directive) are always visible even if content is scrollable

### Related components

[Angular Material Dialog](https://material.angular.io/components/dialog/overview)

[Icon](/docs/components-icon--icon)

[Button](/docs/components-button--button)

[Heading](components-typography-heading--heading)

## Properties

<ArgsTable of={DialogComponent} />
