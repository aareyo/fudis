<div class="fudis-dropdown fudis-input-size__{{ size }}">
	<fudis-label
		[text]="label"
		[id]="id + '-label'"
		[requiredText]="_required ? _requiredText : undefined"
		[tooltip]="tooltip"
		[tooltipPosition]="tooltipPosition"
		[tooltipToggle]="tooltipToggle">
	</fudis-label>
	<div class="fudis-dropdown__input">
		<mat-select
			#matSelect
			[id]="id"
			disableOptionCentering
			[panelClass]="
				size === 'xs' ? 'fudis-dropdown__option-list fudis-dropdown__option-list__xs' : 'fudis-dropdown__option-list'
			"
			class="fudis-dropdown__select"
			[class.fudis-dropdown__select__xs]="size === 'xs'"
			[class.fudis-dropdown--invalid]="(control.touched && control.invalid) || invalidState"
			[placeholder]="placeholder"
			floatPlaceholder="never"
			[multiple]="multipleOption"
			[formControl]="control"
			(valueChange)="handleSelectionChange($event)"
			[attr.required]="_required ? true : null"
			[aria-labelledby]="id + '-label'"
			[hideSingleSelectionIndicator]="hideSingleSelectionIndicator"
			[attr.aria-describedby]="id + '_guidance'"
			[attr.aria-invalid]="(control.touched && control.invalid) || (control.touched && invalidState) ? true : null">
			<mat-option
				class="fudis-dropdown__option"
				[class.fudis-dropdown__option__xs]="size === 'xs'"
				*ngFor="let option of options"
				[value]="option"
				[disabled]="option.disabled">
				{{ option.label }}
			</mat-option>
		</mat-select>
		<fudis-icon *ngIf="size !== 'xs'" class="fudis-dropdown__input__icon" [icon]="'chevron'" [rotate]="'cw-90'" />
	</div>
	<fudis-guidance
		*ngIf="!disableGuidance"
		[inputLabel]="label"
		[helpText]="helpText"
		[for]="id"
		[errorMsg]="errorMsg"
		[control]="control" />
</div>
