import { ArgTypes, Meta, Canvas } from '@storybook/blocks';
import { linkTo } from '@storybook/addon-links';
import { DropdownComponent } from './dropdown.component';
import * as DropdownStories from './dropdown.stories.ts';

<Meta title="Components/Dropdown" />

# Dropdown

Fudis Dropdown is based on Angular Material Select and it has two possible use cases: single-select and multiselect.

## Examples

<Canvas of={DropdownStories.SingleSelect}></Canvas>
<Canvas of={DropdownStories.MultiSelect}></Canvas>

## Usage Guidelines

`multipleOption` boolean determines if component is rendered as single-select or multiselect dropdown. Preselected choices can only be set in the FormControl through indexing the wanted option from the options list.  

Tooltip can be given as an additional feature for the dropdown label.

### Mandatory Properties

Necessary properties for the dropdown are `label`, `control` and `options`.

### Validators and Error Handling

Fudis form components use Fudis Validators. See the full documentation on [how to use Fudis Validators](/docs/utilities-validators--documentation). 

If a custom validation is used, read [how to add Error message](/docs/components-form-error-message--documentation).

**Dropdown validators**
- required
- minLength and maxlength 

#### Dropdown with `minLength` and `maxLength` Validators
Dropdown with `multipleOption` can have `minLength` and `maxLength` validators. MaxLength validator on Dropdown determines how many options can be possibly selected.

## Accessibility

- Label and guidance text are linked to the dropdown select via id.
- Keyboard users can navigate dropdown option list with <code>ArrowDown</code>, <code>ArrowUp</code>, <code>Tab</code>, <code>Space</code>, <code>Enter</code> and <code>Escape</code> keys.
- Screen reader users can navigate dropdown option list and screen reader is informed about the selections made.

### Related components

[Angular Material Select](https://material.angular.io/components/select/overview)

## Properties

<ArgTypes of={DropdownComponent} />
