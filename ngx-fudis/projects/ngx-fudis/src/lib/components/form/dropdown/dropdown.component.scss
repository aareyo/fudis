@use '../../../foundations/borders/mixins.scss' as borders;
@use '../../../foundations/spacing/tokens.scss' as spacing;
@use '../../../foundations/typography/mixins.scss' as typography;
@use '../../../foundations/colors/tokens.scss' as colors;
@use '../../../foundations/colors/mixins.scss' as colorMixins;
@use '../../../foundations/focus/mixins.scss' as focus; 


.fudis-dropdown {
	&__label {
		@include typography.fudis-text-field-label;
		@include colorMixins.fudis-text-color('gray-dark');

		&--required {
			@include typography.fudis-body-s-regular;

			position: absolute;
			right: 0;
			bottom: 0;
			text-transform: none;
		}
	}

	&__select {
		@include borders.fudis-border('1px', 'solid', 'gray-middle');
		@include typography.fudis-text-field-input;
		@include borders.fudis-border-radius('2px');

		box-sizing: border-box;
		padding: spacing.$fudis-spacing-xxs spacing.$fudis-spacing-s;
		height: spacing.$fudis-spacing-xl;

		&:focus {
			@include focus.fudis-focus-form-field;
		}
	}

	&__option-list {
		@include borders.fudis-border('1px', 'solid', 'gray-middle');
		@include colorMixins.fudis-bg-color('white');

		position: absolute;
		top: spacing.$fudis-spacing-l;
	}

	&__help-text {
		@include colorMixins.fudis-text-color('gray-dark');
		@include typography.fudis-body-s-regular;

		margin-top: spacing.$fudis-spacing-xs;
	}

	&__error {
		@include colorMixins.fudis-text-color('red');

		margin-top: spacing.$fudis-spacing-xs;
	}

	&--invalid {
		border-color: colors.$fudis-red;
  }
}

/* stylelint-disable selector-no-qualifying-type */
/* stylelint-disable selector-max-class */
mat-form-field.fudis-dropdown {
	/* stylelint-disable-next-line selector-class-pattern */
	&.mat-form-field-should-float.mat-form-field-can-float .mat-form-field {
			&-wrapper {
				padding-bottom: 0;
			}
		
			&-subscript-wrapper {
				position: relative;
				margin-top: 0;
			}
		
			&-infix {
				display: flex;
				flex-direction: column-reverse;
				padding: 0;
		
			}
		
			&-label-wrapper {
				position: relative;
				padding-top: 0;
			}
		
			&-label {
				position: relative;
				top: 0;
				transform: none;
				width: 100%;
				white-space: inherit;
			}
		}

		/* stylelint-disable-next-line selector-class-pattern */
		&.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper {
			position: inherit;
			/* stylelint-disable-next-line unit-disallowed-list */
			top: 4px;
			transform: none;
		}

		/* stylelint-disable-next-line selector-class-pattern */ /* stylelint-disable-next-line no-descending-specificity */
		&.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper {
			position: inherit;
			/* stylelint-disable-next-line unit-disallowed-list */
			top: 4px;
			transition: none;
		}
	}


