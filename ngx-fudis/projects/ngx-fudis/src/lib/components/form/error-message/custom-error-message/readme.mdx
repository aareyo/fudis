import { ArgTypes, Meta, Canvas } from '@storybook/blocks';
import { linkTo } from '@storybook/addon-links';
import { CustomErrorMessageComponent } from './custom-error-message.component'
import * as CustomErrorMessageStories from './custom-error-message.stories'

<Meta title="Components/Form/Error Messages/Custom Error Message" />

# Custom Error message

Fudis form components can implement Custom Error Message through content projection. 
Like the regular Error Message, Custom Error Message is rendered as a part [Guidance Component](/docs/components-guidance). 

## Examples

<Canvas of={CustomErrorMessageStories.CustomErrorMessageExample}></Canvas>



## Usage Guidelines

### Mandatory Properties

The mandatory properties for custom-error-message are `message` and `visible`. Custom Error Message component takes a message parameter either as a string or as an observable string.
The property visible is a boolean that determines when the error is displayed, but does not consider the form validity.

````
<form [formGroup]="mainFormGroup">
	<fudis-text-input
	[control]="mainFormGroup.controls['required']"
	[label]="'Required text input'">
	<fudis-custom-error-message
		[message]="'This is a custom error message has ben added with content projection'"
		[visible]="true" />
</fudis-text-input>
</form>`
````
### Using multiple Custom Errors

**Note!** It is recommended to use only one Custom Error Message at a time. When using multiple custom-error-messages it is mandatory to pass related form field id as `parentId` and a form field label as `parenLabel` input. 
These inputs are used for linking custom-error-message content with related input fields and with [Error Summary](/docs/components-form-error-summary--documentation).

## Accessibility

- Related Form field label and id are linked to custom error message
- Custom Error Message is correctly passed to [Error Summary](/docs/components-form-error-summary--documentation).

## Related Components

- [Guidance Component](/docs/components-guidance)
- [Error Summary](/docs/components-form-error-summary--documentation)
