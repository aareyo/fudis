<fieldset class="fudis-fieldset" [attr.id]="id" [tabIndex]="-1">
	<ng-container *ngTemplateOutlet="disableGrid ? withoutGrid : withGrid"></ng-container>
</fieldset>

<ng-template #withoutGrid>
	<ng-container *ngTemplateOutlet="content"></ng-container>
</ng-template>

<ng-template #withGrid>
	<fudis-grid [rowGap]="'xs'">
		<ng-container *ngTemplateOutlet="content"></ng-container>
	</fudis-grid>
</ng-template>

<ng-template #content>
	<legend class="fudis-fieldset__legend">
		<span class="fudis-fieldset__legend__title">
			<span class="fudis-fieldset__legend__title__text">{{ legend }}</span>
			<span *ngIf="requiredText" class="fudis-fieldset__legend__title__required">({{ requiredText }})</span>
		</span>
		<ng-container *ngIf="helpText">
			<span class="fudis-fieldset__legend__help-text">{{ helpText }}</span>
		</ng-container>
		<ng-container *ngIf="fieldsetElement !== undefined && errorSummaryVisible">
			<fudis-error-summary
				[screenReaderHelpText]="errorSummaryScreenReaderHelpText"
				[parentComponent]="fieldsetElement"
				[helpText]="errorSummaryHelpText"></fudis-error-summary>
		</ng-container>
	</legend>
	<ng-content></ng-content>
</ng-template>
