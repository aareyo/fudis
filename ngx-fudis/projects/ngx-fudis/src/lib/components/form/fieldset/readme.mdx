import { Meta } from "@storybook/blocks";

<Meta title="Components/Form/Field Set" />

# Field Set

Fudis FieldSet is a grouping tool for Fudis Form Components. There are three directives to project content: header actions, notifications and main content.

## Directives

### Header Actions

Header actions are buttons positioned next to the FieldSet title.
Header actions are assigned through Fudis Actions Directive content projection with **fudisActions** selector.
Fudis Actions Directive also needs `type` input which has to be set as '_fieldset_'.
There are no restrictions on header actions content but it is advised to use Fudis Buttons only.

```
<ng-template fudisActions [type]="'fieldset'">
  <your-content-here />
</ng-template>
```

### Notifications

Notifications are Fudis Notifications positioned under the FieldSet title.
Notifications are assigned through Fudis Notifications Directive content projection with **fudisNotifications** selector.
Fudis Notifications Directive also needs a `type` input which has to be set as '_fieldset_'.
There are no restrictions on header actions content but it is advised to use Fudis Notifications only.

```
<ng-template fudisNotifications [type]="'fieldset'">
  <your-content-here />
</ng-template>
```

### Main Content

Main content is where the form components live. Main content is assigned through Fudis Content Directive content projection with **fudisContent** selector.
Fudis Content Directive also needs `type` input which has to be set as '_fieldset_'.
There are no restrictions on main content but it is advised to use Fudis Form Components only.

```
<ng-template fudisContent [type]="'fieldset'">
  <your-content-here />
</ng-template>
```

## Field Set Inputs

Aside from content projection Fudis FieldSet will create a legend with optional tooltip and help text based on given properties.

### Legend

Fudis FieldSet is not valid without a **mandatory** `title` property which is semantically legend element for the fieldset.

### Required

If the whole fieldset is required, it can be set through `required` boolean property which will add '_(Required)_' text after the legend.
Note that this has no other logic and is not concerned about validation of the components used inside the fieldset.

### Help Text

Fieldset help text is displayed under legend and can be added through `helpText` property.

### Tooltip

Fudis Tooltip can be included in legend with properties from [Tooltip Directive](/docs/directives-tooltip--documentation).

### Error Summary Breadcrumb

Boolean property `errorSummaryBreadcrumb` adds fieldset title to the clickable link in Error Symmary when used inside Fudis Form with visible Error Summary. Set `false` by default.

### Grid Properties

Fudis FieldSet can use some of the Fudis [Grid properties](/docs/foundations-grid--documentation), including `width`, `align`, `marginSides`, `marginBottom` and `marginTop`.

### Initial Focus

Visible focus can be set with `initialFocus` boolean property. It will add focus for the whole fieldset element when the component is initialized and appears for the first time.

## Code Example

This is a simple example on how to use `fudis-fieldset`

```
HTML Template

    <fudis-fieldset
      [title]="'Fieldset legend title'"
      [helpText]="'Some help text for the fieldset'"
      [marginSides]="'responsive'"
    >
      <ng-template fudisActions [type]="'fieldset'">
        <fudis-button [variant]="'tertiary'" [icon]="'plus'" [label]="'Some action'" />
      </ng-template>
      <ng-template fudisNotifications [type]="'fieldset'">
        <fudis-notification>This is notification inside fieldset</fudis-notification>
      </ng-template>
      <ng-template fudisContent [type]="'fieldset'">
          <fudis-text-input
            [label]="'Example text-input nr.1'"
            [control]="fieldsetExample.controls['exampleTextInput1']"
          />
          <fudis-text-input
            [label]="'Example text-input nr.2'"
            [control]="fieldsetExample.controls['exampleTextInput2']"
          />
      </ng-template>
    </fudis-fieldset>
```
