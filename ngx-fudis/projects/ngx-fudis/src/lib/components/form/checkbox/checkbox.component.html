<div class="fudis-checkbox">
	<label class="fudis-checkbox__label" [attr.for]="id" (click)="handleCheckboxClick()">
		<div
			class="fudis-checkbox__box"
			[ngClass]="{
				'fudis-checkbox__box--invalid': control.invalid && control.touched,
				'fudis-checkbox__box--disabled': control.disabled
			}">
			<input
				(blur)="handleBlur()"
				#checkboxRef
				[attr.aria-describedby]="'guidance_' + id"
				[attr.aria-label]="label"
				type="checkbox"
				[name]="name"
				[attr.name]="name"
				[id]="id"
				class="fudis-checkbox__input"
				[required]="control.hasValidator(requiredValidator)"
				[attr.aria-disabled]="control.disabled" />
			<svg
				*ngIf="control.value"
				width="16"
				height="16"
				preserveAspectRatio="xMidYMin"
				xmlns="http://www.w3.org/2000/svg"
				viewBox="0 0 22 22"
				id="check-small"
				class="fudis-checkbox__icon"
				aria-hidden="true">
				<path
					class="a"
					d="M9.0171,16.5A1.5,1.5,0,0,1,7.9,16.0012l-4.0171-4.48a1.5,1.5,0,0,1,2.2334-2.003L8.8706,12.59l5.9-8.4487A1.5,1.5,0,1,1,17.23,5.8591l-6.9824,10a1.4978,1.4978,0,0,1-1.1392.6387C9.0776,16.4992,9.0474,16.5,9.0171,16.5Z" />
			</svg>
		</div>
		<div class="fudis-checkbox__label__text">{{ label }}</div>
	</label>
	<div id="guidance_{{ id }}" class="fudis-checkbox__guidance">
		<ng-container *ngIf="showError">
			<ng-container *ngFor="let error of errorMsgToShow">
				<fudis-error-message [message]="error"></fudis-error-message>
			</ng-container>
		</ng-container>
		<p *ngIf="!showError && helpText" class="fudis-checkbox__guidance__help-text">{{ helpText }}</p>
	</div>
</div>
