<div *ngIf="!isExternalLink" class="fudis-link">
	<ng-container *ngTemplateOutlet="anchorLink"></ng-container>
</div>

<div *ngIf="isExternalLink" class="fudis-link">
	<ng-container *ngTemplateOutlet="externalLink"></ng-container>
</div>

<ng-template #anchorLink>
	<ng-container *ngIf="!routerLinkUrl">
		<a
			#linkRef
			(focus)="_handleFocus($event)"
			[href]="href"
			class="fudis-link__anchor fudis-link__anchor__{{ size }} fudis-link__anchor__{{ color }}">
			{{ linkTitle ? linkTitle : href }}
		</a>
	</ng-container>
	<ng-container *ngIf="routerLinkUrl">
		<a
			#linkRef
			(focus)="_handleFocus($event)"
			[routerLink]="routerLinkUrl"
			[fragment]="fragmentId"
			class="fudis-link__anchor fudis-link__anchor__{{ size }} fudis-link__anchor__{{ color }}">
			{{ linkTitle ? linkTitle : href }}
		</a>
	</ng-container>
</ng-template>

<ng-template #externalLink>
	<a
		#linkRef
		(focus)="_handleFocus($event)"
		attr.aria-label="{{ linkTitle ? linkTitle : href }}, {{ _externalLinkAriaLabel }}"
		[href]="href ? href : null"
		target="_blank"
		rel="noopener noreferrer"
		class="fudis-link__anchor fudis-link__anchor__{{ size }} fudis-link__anchor__{{
			color
		}} fudis-link__anchor__external">
		{{ linkTitle ? linkTitle : href }}
		<fudis-icon [icon]="'external'" [color]="color"></fudis-icon>
	</a>
</ng-template>
