<div *ngIf="!isExternalLink" class="fudis-link">
  <ng-container *ngTemplateOutlet="anchorLink"></ng-container>
</div>

<div *ngIf="isExternalLink" class="fudis-link">
  <ng-container *ngTemplateOutlet="externalLink"></ng-container>
</div>

<ng-template #anchorLink>
  <ng-container *ngIf="!routerLinkUrl">
    <a
      #linkRef
      class="fudis-link__anchor fudis-link__anchor__{{ size }} fudis-link__anchor__{{ color }}"
      (focus)="_handleFocus($event)"
      (blur)="_handleBlur($event)"
      [href]="href"
    >
      {{ linkTitle ? linkTitle : href }}
    </a>
  </ng-container>
  <ng-container *ngIf="routerLinkUrl">
    <a
      #linkRef
      class="fudis-link__anchor fudis-link__anchor__{{ size }} fudis-link__anchor__{{ color }}"
      (focus)="_handleFocus($event)"
      (blur)="_handleBlur($event)"
      [routerLink]="routerLinkUrl"
      [fragment]="fragmentId"
    >
      {{ linkTitle ? linkTitle : href }}
    </a>
  </ng-container>
</ng-template>

<ng-template #externalLink>
  <a
    #linkRef
    (focus)="_handleFocus($event)"
    (blur)="_handleBlur($event)"
    attr.aria-label="{{ linkTitle ? linkTitle : href }}, {{ _externalLinkAriaLabel }}"
    [href]="href ? href : null"
    target="_blank"
    rel="noopener noreferrer"
    class="fudis-link__anchor fudis-link__anchor__{{ size }} fudis-link__anchor__{{
      color
    }} fudis-link__anchor__external"
  >
    {{ linkTitle ? linkTitle : href }}
    <fudis-icon [icon]="'new-tab'" [color]="color"></fudis-icon>
  </a>
</ng-template>
